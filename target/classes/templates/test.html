<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" th:href="@{/static/css/charts.css}">
</head>
<body>


<figure class="highcharts-figure">
    <div id="container"></div>
</figure>



<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<!--<script src="/static/js/test.js"></script>-->
<script th:inline="javascript">
    var xaxis = [[${xaxis}]]
    var yaxis_view = [[${yaxis_view}]]
    var yaxis_Q =[[${yaxis_Q}]]
    var json =  {
        chart: {
            zoomType: 'xy'
        },
        title: {
            text: '销售统计报表',
            align: 'left'
        },
        subtitle: {
            text: '浏览/销售',
            align: 'left'
        },
        xAxis: [{
            categories: xaxis,
            crosshair: true
        }],
        yAxis: [
            // Primary yAxis
            {
            labels: {
                format: '{value}件',
                style: {
                    color: Highcharts.getOptions().colors[2]
                }
            },
            title: {
                text: '销售额',
                style: {
                    color: Highcharts.getOptions().colors[2]
                }
            },
            opposite: true

        },
            // Secondary yAxis
            {
            gridLineWidth: 0,
            title: {
                text: '浏览量',
                style: {
                    color: Highcharts.getOptions().colors[0]
                }
            },
            labels: {
                format: '{value}次',
                style: {
                    color: Highcharts.getOptions().colors[0]
                }
            }

        }
        ],
        tooltip:
            {
            shared: true
        },
        legend:
            {
            layout: 'vertical',
            align: 'left',
            x: 80,
            verticalAlign: 'top',
            y: 55,
            floating: true,
            backgroundColor:
                Highcharts.defaultOptions.legend.backgroundColor || // theme
                'rgba(255,255,255,0.25)'
        },
        series: [
            {
            name: '浏览量',
            type: 'column',
            yAxis: 1,
            data: yaxis_view,
            tooltip: {
                valueSuffix: ' 次'
            }

        },
            {

            name: '销售额',
            type: 'spline',
            data: yaxis_Q,
                color: '#a8ec7d',
            tooltip: {
                valueSuffix: ' 件'
            }
        }],
        responsive: {
            rules: [{
                condition: {
                    maxWidth: 500
                },
                chartOptions: {
                    legend: {
                        floating: false,
                        layout: 'horizontal',
                        align: 'center',
                        verticalAlign: 'bottom',
                        x: 0,
                        y: 0
                    },
                    yAxis: [{
                        labels: {
                            align: 'right',
                            x: 0,
                            y: -6
                        },
                        showLastLabel: false
                    }, {
                        labels: {
                            align: 'left',
                            x: 0,
                            y: -6
                        },
                        showLastLabel: false
                    }, {
                        visible: false
                    }]
                }
            }]
        }
    };

    Highcharts.chart('container',
        json);
</script>
</body>
</html>